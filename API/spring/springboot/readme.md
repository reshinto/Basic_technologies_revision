# Springboot guide
## Install springboot
1. method 1: ```brew install springboot```
2. method 2: ```curl -s "https://get.sdkman.io" | bash```
    - ```source "$HOME/.sdkman/bin/sdkman-init.sh"```
    - Install springboot
      - ```sdk install springboot```
## Create new project
- get list of avaliable dependencies
  - ```spring init --list```
- create a new web dependency project using maven
  - ```spring init --dependencies web --build maven --groupId groupName --artifactId projectName --name projectName saveAsThisFolderName```
  - ```spring init -d web --build maven -g groupName -a projectName -n projectName saveAsThisFolderName```
  - ```spring init -d web,data-jdbc,postgresql --build maven -g groupName -a projectName -n projectName saveAsThisFolderName```
## Inside the project
### pom.xml
- similar to the package.json file for JavaScript
- contains the parent library which is spring boot and the list of dependencies installed
### src/main/resources/application.properties
- file to configure all the properties for the app and for environment specific properties
- it will be used when connected to a real database
### src/main/resources/static/ && src/main/resources/templates/
- these are for web development related files such as html, css, javascript
### default code in the src/main/java/.../appname/AppName.java
```java
package com.example.demoapi;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class DemoApiApplication {
	public static void main(String[] args) {
		SpringApplication.run(DemoApiApplication.class, args);
	}
}
```
## create a simple class model
### e.g.: src/java/.../appname/classname/ClassName.java
```java
package com.example.demoapi.student;

import java.time.LocalDate;

public class Student {
  private Long id;
  private String name;
  private String email;
  private LocalDate dob;
  private Integer age;

  public Student(Long id, String name, String email, LocalDate dob, Integer age) {
    this.id = id;
    this.name = name;
    this.email = email;
    this.dob = dob;
    this.age = age;
  }

  // ids are auto generated by database
  public Student(String name, String email, LocalDate dob, Integer age) {
    this.name = name;
    this.email = email;
    this.dob = dob;
    this.age = age;
  }

  public Long getId() {
    return id;
  }

  public void setId(Long id) {
    this.id = id;
  }

  public String getName() {
    return name;
  }

  public void setName(String name) {
    this.name = name;
  }

  public String getEmail() {
    return email;
  }

  public void setEmail(String email) {
    this.email = email;
  }

  public LocalDate getDob() {
    return dob;
  }

  public void setDob(LocalDate dob) {
    this.dob = dob;
  }

  public Integer getAge() {
    return age;
  }

  public void setAge(Integer age) {
    this.age = age;
  }

  @Override
  public String toString() {
    return "Student{" + "id=" + id + ", name='" + name + '\'' + ", email='" + email + '\'' + ", dob=" + dob + ", age="
        + age + '}';
  }
}
```
## create a service to link the database to the controller
### e.g.: src/main/java/.../appname/classname/ClassNameService.java
```java
package com.example.demoapi.student;

import java.time.LocalDate;
import java.time.Month;
import java.util.List;

import org.springframework.stereotype.Service;

// @Component also works, but better to be specific as this is a Service
@Service  // this states that StudentService needs to be instantiated (must be a spring bean) linking it to @Autowired in the controller
public class StudentService {

  public List<Student> getStudents() {
    return List.of(new Student(1L, "Name1", "name1@gmail.com", LocalDate.of(2000, Month.JANUARY, 5), 21));
  }
}
```
## create and enable restful framework by creating a class controller and linking it with the service
### e.g.: src/main/java/.../appname/classname/ClassNameController.java
```java
package com.example.demoapi.student;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping(path = "api/v1/student")
public class StudentController {

  private final StudentService studentService;

  @Autowired  // this states that StudentService should be autowired by being instantiated and then injected into this constructor
  public StudentController(StudentService studentService) {
    this.studentService = studentService;  // use dependency injection instead of manually instantiating here
  }

  @GetMapping
  public List<Student> getStudents() {
    return studentService.getStudents();
  }
}
```
